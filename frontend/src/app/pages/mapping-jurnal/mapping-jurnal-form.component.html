<nb-card>
  <nb-card-header>{{ data ? "Edit" : "Tambah" }} Mapping Jurnal</nb-card-header>
  <nb-card-body>
    <form class="mapping-form-grid">
      <!-- Baris pertama -->
      <div class="form-row">
        <div class="form-group">
          <label>Modul</label>
          <nb-select fullWidth [(selected)]="formData.modul" placeholder="Pilih Modul"
            (selectedChange)="onModuleChange($event)">
            <nb-option *ngFor="let m of moduleList" [value]="m.value">
              {{ m.label }}
            </nb-option>
          </nb-select>
        </div>

        <div class="form-group">
          <label>Kode Transaksi</label>
          <input nbInput fullWidth placeholder="Contoh: SO" [(ngModel)]="formData.kode_transaksi"
            name="kode_transaksi" />
        </div>

        <div class="form-group">
          <label>Nama Transaksi</label>
          <input nbInput fullWidth placeholder="Contoh: Pesanan Penjualan" [(ngModel)]="formData.nama_transaksi"
            name="nama_transaksi" />
        </div>
      </div>

      <!-- Baris kedua -->
      <div class="form-row">
        <div class="form-group">
          <label>Debit</label>
          <nb-select fullWidth [(selected)]="formData.kode_akun_debit" placeholder="Pilih Akun Debit">
            <nb-option *ngFor="let coa of coaList" [value]="coa.kode_akun">
              {{ coa.kode_akun }} - {{ coa.nama_akun }}
            </nb-option>
          </nb-select>
        </div>

        <div class="form-group">
          <label>Kredit</label>
          <nb-select fullWidth [(selected)]="formData.kode_akun_kredit" placeholder="Pilih Akun Kredit">
            <nb-option *ngFor="let coa of coaList" [value]="coa.kode_akun">
              {{ coa.kode_akun }} - {{ coa.nama_akun }}
            </nb-option>
          </nb-select>
        </div>

        <div class="form-group">
          <label>Keterangan</label>
          <input nbInput fullWidth placeholder="Opsional" [(ngModel)]="formData.keterangan" name="keterangan" />
        </div>
      </div>
    </form>
  </nb-card-body>

  <nb-card-footer class="d-flex justify-content-end gap-2">
    <button nbButton status="basic" (click)="cancel()">Batal</button>
    <button nbButton status="primary" (click)="save()" [disabled]="
      !formData.modul ||
      !formData.kode_transaksi ||
      !formData.nama_transaksi ||
      !formData.kode_akun_debit ||
      !formData.kode_akun_kredit
    ">
      Simpan
    </button>
  </nb-card-footer>
</nb-card>
