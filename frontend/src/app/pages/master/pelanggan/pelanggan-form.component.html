<nb-card>
  <nb-card-header class="form-header">
    {{ id ? '✏️ Edit Pelanggan' : '➕ Tambah Pelanggan' }}
  </nb-card-header>

  <nb-card-body>
    <form #form="ngForm" (ngSubmit)="simpan()" autocomplete="off">

      <!-- Nama Pelanggan -->
      <div class="form-group">
        <label for="nama_pelanggan">Nama Pelanggan</label>
        <input nbInput fullWidth id="nama_pelanggan" type="text" name="nama_pelanggan"
          [(ngModel)]="pelanggan.nama_pelanggan" required #namaPelanggan="ngModel" />
        <small *ngIf="namaPelanggan.invalid && namaPelanggan.touched" class="text-danger">
          Nama pelanggan wajib diisi.
        </small>
      </div>

      <!-- Email -->
      <div class="form-group">
        <label for="email">Email</label>
        <input nbInput fullWidth id="email" type="email" name="email" [(ngModel)]="pelanggan.email" required email
          #email="ngModel" />
        <small *ngIf="email.invalid && email.touched" class="text-danger">
          Email wajib dan harus valid.
        </small>
      </div>

      <!-- Telepon -->
      <div class="form-group">
        <label for="telepon">Telepon</label>
        <input nbInput fullWidth id="telepon" type="text" name="telepon" [(ngModel)]="pelanggan.telepon" required
          #telepon="ngModel" />
        <small *ngIf="telepon.invalid && telepon.touched" class="text-danger">
          Telepon wajib diisi.
        </small>
      </div>

      <!-- Alamat -->
      <div class="form-group">
        <label for="alamat">Alamat</label>
        <textarea nbInput fullWidth id="alamat" name="alamat" [(ngModel)]="pelanggan.alamat" rows="3"></textarea>
      </div>

      <!-- Tombol -->
      <div class="form-actions">
        <button nbButton status="primary" type="submit" [disabled]="form.invalid">
          <nb-icon icon="save-outline"></nb-icon>
          {{ id ? 'Simpan Perubahan' : 'Tambah' }}
        </button>

        <button nbButton status="danger" type="button" (click)="batal()">
          <nb-icon icon="close-outline"></nb-icon>
          Batal
        </button>
      </div>
    </form>
  </nb-card-body>
</nb-card>
