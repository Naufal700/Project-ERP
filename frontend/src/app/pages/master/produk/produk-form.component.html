<nb-card class="produk-form-wrapper">
  <nb-card-header>{{ isEdit ? 'Edit Produk' : 'Tambah Produk' }}</nb-card-header>
  <nb-card-body>
    <form [formGroup]="form" (ngSubmit)="simpan()">
      <div class="form-grid">

        <!-- Baris 1 -->
        <div class="form-item">
          <label>Kode Produk</label>
          <input nbInput fullWidth formControlName="kode_produk" readonly placeholder="Otomatis" />
        </div>

        <div class="form-item">
          <label>Nama Produk</label>
          <input nbInput fullWidth formControlName="nama_produk" placeholder="Contoh: Pulpen" />
        </div>

        <!-- Baris 2 -->
        <div class="form-item">
          <label>Kategori</label>
          <nb-select fullWidth formControlName="id_kategori" placeholder="Pilih Kategori">
            <nb-option *ngFor="let k of kategoriList" [value]="k.id">{{ k.nama_kategori }}</nb-option>
          </nb-select>
        </div>

        <div class="form-item">
          <label>Satuan</label>
          <nb-select fullWidth formControlName="id_satuan" placeholder="Pilih Satuan">
            <nb-option *ngFor="let s of satuanList" [value]="s.id">{{ s.nama_satuan }}</nb-option>
          </nb-select>
        </div>

        <!-- Baris 3 -->
        <div class="form-item">
          <label>Harga Beli</label>
          <input nbInput fullWidth type="number" formControlName="harga_beli" placeholder="Contoh: 1000" />
        </div>

        <div class="form-item">
          <label>Harga Jual</label>
          <input nbInput fullWidth type="number" formControlName="harga_jual" placeholder="Contoh: 1500" />
        </div>

        <!-- Baris 4 -->
        <div class="form-item">
          <label>Jenis Produk</label>
          <nb-select fullWidth formControlName="jenis_produk" placeholder="Pilih Jenis Produk">
            <nb-option value="persediaan">Persediaan</nb-option>
            <nb-option value="non_persediaan">Non Persediaan</nb-option>
            <nb-option value="service">Service</nb-option>
          </nb-select>
        </div>

        <div class="form-item">
          <label>Status</label>
          <nb-select fullWidth formControlName="is_aktif">
            <nb-option [value]="true">Aktif</nb-option>
            <nb-option [value]="false">Tidak Aktif</nb-option>
          </nb-select>
        </div>

      </div>

      <!-- Tombol -->
      <div class="d-flex justify-content-end mt-4" style="gap: 1rem;">
        <button nbButton status="primary" type="submit" [disabled]="form.invalid">
          {{ isEdit ? 'Simpan Perubahan' : 'Simpan' }}
        </button>
        <button nbButton status="danger" type="button" (click)="batal()">Batal</button>
      </div>
    </form>
  </nb-card-body>
</nb-card>
