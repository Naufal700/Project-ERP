<nb-card>
  <!-- Header -->
  <nb-card-header class="d-flex justify-content-between align-items-center flex-wrap gap-2">
    <h4 class="m-0">Master Kategori Produk</h4>
    <button nbButton status="primary" size="small" (click)="openForm()">
      <nb-icon icon="plus-outline"></nb-icon>
      <span class="ml-1">Tambah</span>
    </button>
  </nb-card-header>

  <!-- Body -->
  <nb-card-body>
    <!-- Search -->
    <div class="mb-3">
      <nb-form-field fullWidth>
        <nb-icon nbPrefix icon="search-outline"></nb-icon>
        <input nbInput placeholder="Cari kategori..." [(ngModel)]="searchTerm" (ngModelChange)="applyFilter()" />
      </nb-form-field>
    </div>

    <!-- Table -->
    <div class="table-responsive">
      <table class="table table-bordered table-sm table-hover">
        <thead>
          <tr>
            <th>Kode</th>
            <th>Nama Kategori</th>
            <th class="text-center">Aksi</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let k of filteredKategoriList">
            <td>{{ k.kode_kategori }}</td>
            <td>{{ k.nama_kategori }}</td>
            <td class="text-center">
              <button nbButton ghost size="tiny" status="info" (click)="openForm(k)">
                <nb-icon icon="edit-2-outline"></nb-icon>
              </button>
              <button nbButton ghost size="tiny" status="danger" (click)="delete(k.id)">
                <nb-icon icon="trash-2-outline"></nb-icon>
              </button>
            </td>
          </tr>
          <tr *ngIf="filteredKategoriList.length === 0">
            <td colspan="3" class="text-center text-muted">Tidak ada data ditemukan.</td>
          </tr>
        </tbody>
      </table>
    </div>
  </nb-card-body>
</nb-card>
